# 数据转换

在方案阶段，有多个方案，同时也有多个阶段。既需要满足不同专业之间的数据交换要求，同时也要保存数据的分版本备份。而模型的体积非常大，而每个版本之间的变化并不会太多。保存差值，保存文件变化量就是一个非常好的解决思路。

定义一个通用的格式为IFC，其特征为逐行Key-Value。有一个能够比较出两个不同的IFC文件之间的`变化`，即增加和删除。

## Git

``` mermaid
    gitGraph
       commit id: "场地"
       commit id: "需求"
       branch PlanA
       commit id: "方案修改"
       branch PlanB
       commit id: "方案调整"
       branch PlanB-1
       commit id: "空间设计"
       checkout PlanB
       commit id: "另外的设计"
       merge PlanB-1
       commit id: "方案否定" type:reverse
       checkout PlanA
       commit id: "空间设计A"
       checkout main
       merge PlanA
       commit id: "方案设计完成"
       
```

在Git中，存在Branch和Commit能够满足设计师所需要的版本管理的需求，不论是多种不同方案还是版本回退。

要满足上述内容的最大难题在于以下两点：

- 建筑设计所需要使用的软件和数据格式差别巨大，需要有一个统一的数据格式能包罗万象，将数据无损的导入其中。
- 对于这一类型的数据，如何定义其变化。

## 分发

由于不同专业对于数据的需求是不一样的，而单个完整的建筑信息数据是十分庞大的，有非常多的冗余或者多余该专业是无用的信息。就需要有一个数据过滤器，针对每一个不同的专业分解出其所需的数据并输入其中。 

## 产品

### IFC Git （Commit）

解决IFC文件的变化问题，其与文本变化具有一定不同。

### IFC Distribution （Branch）

解决不同专业所需数据的不同进行专门分发。

#### 产品设计

以可视化节点式编程的形式，对于IFC文件进行批量修改整合分发的软件。用户通过自行调整编辑节点，完成一个或多个IFC文件转换为一个IFC文件的工作。其编译生成的文件可部署服务器进行数据的大批量分发处理。

其用户为进行公司建筑模型数据管理的人员进行使用，针对公司特有的数据格式需求，进行定制化节点编辑。

#### 技术路线

IFC++ 完成数据后台运算， Qt做UI界面。